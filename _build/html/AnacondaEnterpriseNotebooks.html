<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Anaconda Enterprise Notebook Runbook &mdash; Continuum Runbooks 1.1 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Continuum Runbooks 1.1 documentation" href="index.html" />
    <link rel="prev" title="Anaconda Cluster Runbook" href="AnacondaCluster.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">


<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="anaconda-enterprise-notebook-runbook">
<h1>Anaconda Enterprise Notebook Runbook<a class="headerlink" href="#anaconda-enterprise-notebook-runbook" title="Permalink to this headline">¶</a></h1>
<p>Anaconda Enterprise Notebook (AEN) is a Python data analysis environment from
Continuum Analytics. Accessed through a browser, Anaconda Enterprise
Notebooks is a ready-to-use, powerful, fully-configured Python analytics
environment. We believe that programmers, scientists, and analysts
should spend their time analyzing data, not working to set up a system.
Data should be shareable, and analysis should be repeatable.
Reproducibility should extend beyond just code to include the runtime
environment, configuration, and input data.</p>
<p>Anaconda Enterprise Notebooks makes it easy to start your analysis
immediately.</p>
<p>This runbook walks through the steps needed to install a basic Anaconda
Enterprise Notebook system comprised of the front-end server, gateway,
and two compute machines. The runbook is designed for two audiences:
those who have direct access to the internet for installation and those
where such access is not available or restricted for security reasons.
For these restricted a.k.a. &#8220;Air Gap&#8221; environments, Continuum ships the
entire Anaconda product suite on portable storage medium or as a
downloadable TAR archive. Where necessary, additional instructions for
Air Gap environments are noted. If you have any questions about the
instructions, please contact your sales representative or Priority
Support team, if applicable, for additional assistance.</p>
<p><strong>AEN Server:</strong> The administrative front-end to the system. This is
where users login to the system, where user accounts are stored, and
where admins can manage the system.</p>
<p><strong>AEN Gateway:</strong> The gateway is a reverse proxy that authenticates
users and automatically directs them to the proper AEN Compute
machine for their project. Users will not notice this component as it
automatically routes them. One could put a gateway in each datacenter in
a tiered scale-out fashion.</p>
<p><strong>AEN Compute nodes:</strong> This is where projects are stored and run.
AEN Compute machines only need to be reachable by the AEN Gateway,
so they can be completely isolated by a firewall.</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/wakari.png"><img alt="_images/wakari.png" class="align-center" src="_images/wakari.png" style="width: 816.0px; height: 1056.0px;" /></a>
</div></blockquote>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<div class="section" id="hardware-recommendations">
<h3>Hardware Recommendations<a class="headerlink" href="#hardware-recommendations" title="Permalink to this headline">¶</a></h3>
<p><strong>AEN Server</strong></p>
<ul class="simple">
<li>2+GB RAM</li>
<li>2+CPU cores</li>
<li>20GB storage</li>
</ul>
<p><strong>AEN Gateway</strong></p>
<ul class="simple">
<li>2 GB RAM</li>
<li>2 CPU cores</li>
</ul>
<p><strong>AEN Compute</strong> (N-machines)</p>
<p>Configure to meet the needs of the projects. At least:</p>
<ul class="simple">
<li>2GB RAM</li>
<li>2 CPU cores</li>
</ul>
</div>
<div class="section" id="os-requirements">
<h3>OS Requirements<a class="headerlink" href="#os-requirements" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">RHEL/CentOS 6.7 on all nodes (Other operating systems are supported,
however this document assumes RHEL or CentOS 6.7)</p>
</li>
<li><p class="first"><strong>/opt/wakari:</strong> Ability to install here and at least 5GB of storage.</p>
</li>
<li><p class="first"><strong>/projects:</strong> Size depends on number and size of projects. At least
20GB of storage.</p>
<p><strong>NOTE:</strong> This directory needs the filesystem mounted with Posix ACL
support (Posix.1e). Check with <code class="docutils literal"><span class="pre">mount</span></code> and
<code class="docutils literal"><span class="pre">tune2fs</span> <span class="pre">-l</span> <span class="pre">/path/to/filesystem</span> <span class="pre">|</span> <span class="pre">grep</span> <span class="pre">options</span></code></p>
</li>
</ul>
</div>
<div class="section" id="software-prerequisites">
<h3>Software Prerequisites<a class="headerlink" href="#software-prerequisites" title="Permalink to this headline">¶</a></h3>
<p><strong>AEN Server</strong></p>
<ul class="simple">
<li>Mongo Version: &gt;= 2.6.8 and &lt; 3.0</li>
<li>Nginx version: &gt;= 1.4.0</li>
<li>ElasticSearch</li>
<li>Oracle JRE 8</li>
</ul>
<p><strong>NOTE:</strong> For Air Gap installations, Oracle JRE must already be
installed</p>
<p><strong>AEN Compute</strong></p>
<ul class="simple">
<li>git</li>
</ul>
</div>
<div class="section" id="security-requirements">
<h3>Security Requirements<a class="headerlink" href="#security-requirements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>root or sudo access</li>
<li>SELinux in Permissive mode - check with <code class="docutils literal"><span class="pre">getenforce</span></code></li>
</ul>
</div>
<div class="section" id="network-requirements">
<h3>Network Requirements<a class="headerlink" href="#network-requirements" title="Permalink to this headline">¶</a></h3>
<p><strong>TCP Ports</strong></p>
<ul class="simple">
<li>Server: 80</li>
<li>Gateway: 8080</li>
<li>Compute: 5002</li>
</ul>
</div>
<div class="section" id="other-requirements">
<h3>Other Requirements<a class="headerlink" href="#other-requirements" title="Permalink to this headline">¶</a></h3>
<p>Assuming the above requirements are met, there are no additional
dependencies necessary for AEN.</p>
</div>
<div class="section" id="air-gap-vs-regular-installation">
<h3>Air Gap vs. Regular Installation<a class="headerlink" href="#air-gap-vs-regular-installation" title="Permalink to this headline">¶</a></h3>
<p>As stated previously, this document contains installation instructions
for two audiences: those with internet access on the destination
server(s) and those who have no access to internet resources. Many of
the steps below have two sections: <strong>Air Gap Installation</strong> and
<strong>Regular Installation</strong>. Those without internet access should follow
the <strong>Air Gap Installation</strong> instructions and those with internet access
should follow <strong>Regular Installation</strong> instructions.</p>
</div>
<div class="section" id="air-gap-media">
<h3>Air Gap Media<a class="headerlink" href="#air-gap-media" title="Permalink to this headline">¶</a></h3>
<p>This document assumes that the Air Gap media is located at /installer on
the server where the software is being installed.</p>
<p>Air Gap media contents:</p>
<div class="highlight-bash"><div class="highlight"><pre>/installer
mongodb-org-tools-2.6.8-1.x86_64.rpm
mongodb-org-shell-2.6.8-1.x86_64.rpm
mongodb-org-server-2.6.8-1.x86_64.rpm
mongodb-org-mongos-2.6.8-1.x86_64.rpm
mongodb-org-2.6.8-1.x86_64.rpm
wakari-compute-0.10.0-Linux-x86_64.sh
wakari-server-0.10.0-Linux-x86_64.sh
wakari-gateway-0.10.0-Linux-x86_64.sh
wakari-publisher-0.10.0-Linux-x86_64.sh
nginx-1.6.2-1.el6.ngx.x86_64.rpm
elasticsearch-1.7.2.noarch.rpm
jre-8u65-linux-x64.rpm
</pre></div>
</div>
</div>
</div>
<div class="section" id="download-the-installers">
<h2>Download the Installers<a class="headerlink" href="#download-the-installers" title="Permalink to this headline">¶</a></h2>
<p>Download the installers and copy them to the corresponding servers. The
Publisher should be installed on the AEN Server machine.</p>
<ul class="simple">
<li><strong>Air Gap Installation:</strong> Copy installers from the Air Gap media</li>
<li><strong>Regular Installation:</strong></li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">RPM_CDN</span><span class="o">=</span><span class="s2">&quot;https://820451f3d8380952ce65-4cc6343b423784e82fd202bb87cf87cf.ssl.cf1.rackcdn.com&quot;</span>
curl -O $RPM_CDN/wakari-server-0.10.0-Linux-x86_64.sh
curl -O $RPM_CDN/wakari-gateway-0.10.0-Linux-x86_64.sh
curl -O $RPM_CDN/wakari-compute-0.10.0-Linux-x86_64.sh
curl -O $RPM_CDN/wakari-publisher-0.10.0-Linux-x86_64.sh
</pre></div>
</div>
</div>
<div class="section" id="gather-ip-addresses-or-fqdns">
<h2>Gather IP addresses or FQDNs<a class="headerlink" href="#gather-ip-addresses-or-fqdns" title="Permalink to this headline">¶</a></h2>
<p>AEN is very sensitive to the IP address or domain name used to
connect to the Server and Gateway components. If users will be using the
domain name, you should install thecomponents using the domain name
instead of the IP addresses. The authentication systemrequires the
proper hostnames when authenticating users between the services.</p>
<p>Fill in the domain names or IP addresses of the components below and
record the auto­generated wakari password in the box below after
installing the AEN Server component.</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="49%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2">Component     | Name or IP address</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td colspan="2">AEN Server    |</td>
</tr>
<tr class="row-odd"><td colspan="2">AEN Gateway   |</td>
</tr>
<tr class="row-even"><td colspan="2">AEN Compute   |</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="install-aen-server">
<h2>Install AEN Server<a class="headerlink" href="#install-aen-server" title="Permalink to this headline">¶</a></h2>
<p>The AEN server is the administrative front­end to the system. This is
where users login to the system, where user accounts are stored, and
where admins can manage the system.</p>
<div class="section" id="aen-server-preparation-prerequisites">
<h3>AEN Server Preparation ­Prerequisites<a class="headerlink" href="#aen-server-preparation-prerequisites" title="Permalink to this headline">¶</a></h3>
<div class="section" id="download-prerequisite-rpms">
<h4>Download Prerequisite RPMs<a class="headerlink" href="#download-prerequisite-rpms" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><strong>Air Gap Installation:</strong> Copy RPMs from the Air Gap media</li>
<li><strong>Regular Installation:</strong></li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">RPM_CDN</span><span class="o">=</span><span class="s2">&quot;https://820451f3d8380952ce65-4cc6343b423784e82fd202bb87cf87cf.ssl.cf1.rackcdn.com&quot;</span>
curl -O $RPM_CDN/nginx-1.6.2-1.el6.ngx.x86_64.rpm
curl -O $RPM_CDN/mongodb-org-tools-2.6.8-1.x86_64.rpm
curl -O $RPM_CDN/mongodb-org-shell-2.6.8-1.x86_64.rpm
curl -O $RPM_CDN/mongodb-org-server-2.6.8-1.x86_64.rpm
curl -O $RPM_CDN/mongodb-org-mongos-2.6.8-1.x86_64.rpm
curl -O $RPM_CDN/mongodb-org-2.6.8-1.x86_64.rpm
curl -O $RPM_CDN/elasticsearch-1.7.2.noarch.rpm
curl -O $RPM_CDN/jre-8u65-linux-x64.rpm
</pre></div>
</div>
<ul class="simple">
<li>Debian / Ubuntu</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">RPM_CDN</span><span class="o">=</span><span class="s2">&quot;https://820451f3d8380952ce65-4cc6343b423784e82fd202bb87cf87cf.ssl.cf1.rackcdn.com&quot;</span>
curl -O $RPM_CDN/nginx-full_1.10.0-0+trusty0_amd64.deb
curl -O $RPM_CDN/nginx-common_1.10.0-0+trusty0_all.deb
curl -O $RPM_CDN/mongodb-org-tools_2.6.12_amd64.deb
curl -O $RPM_CDN/mongodb-org-shell_2.6.12_amd64.deb
curl -O $RPM_CDN/mongodb-org-server_2.6.12_amd64.deb
curl -O $RPM_CDN/mongodb-org-mongos_2.6.12_amd64.deb
curl -O $RPM_CDN/elasticsearch-1.7.3.deb
</pre></div>
</div>
</div>
<div class="section" id="install-prerequisite-rpms">
<h4>Install Prerequisite RPMs<a class="headerlink" href="#install-prerequisite-rpms" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>RHEL / CentOS</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre>sudo yum install -y *.rpm
sudo /etc/init.d/mongod start
sudo /etc/init.d/elasticsearch start
sudo chkconfig --add elasticsearch
</pre></div>
</div>
<ul class="simple">
<li>Debian / Ubuntu</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span class="c1"># install mongodb</span>
sudo dpkg -i mongodb-org-*

<span class="c1"># install nginx</span>
sudo dpkg -i nginx-common_1.10.0-0+trusty0_all.deb
sudo dpkg -i nginx-full_1.10.0-0+trusty0_amd64.deb
sudo apt-get -f install

<span class="c1"># Must remove the default site config</span>
sudo rm /etc/nginx/sites-enabled/default

sudo apt-get install openjdk-7-jre
sudo dpkg -i elasticsearch-1.7.3.deb
</pre></div>
</div>
</div>
</div>
<div class="section" id="run-the-aen-server-installer">
<h3>Run the AEN Server Installer<a class="headerlink" href="#run-the-aen-server-installer" title="Permalink to this headline">¶</a></h3>
<div class="section" id="set-variables-and-change-permissions">
<h4>Set Variables and Change Permissions<a class="headerlink" href="#set-variables-and-change-permissions" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">export</span> <span class="nv">AEN_SERVER</span><span class="o">=</span>&lt;FQDN HOSTNAME&gt; <span class="c1"># Use the real FQDN</span>
chmod a+x wakari-*.sh                <span class="c1"># Set installer to be executable</span>

sudo ./wakari-server-0.10.0-Linux-x86_64.sh -w <span class="nv">$AE</span>N_SERVER
</pre></div>
</div>
</div>
<div class="section" id="run-aen-server-installer">
<h4>Run AEN Server Installer<a class="headerlink" href="#run-aen-server-installer" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash"><div class="highlight"><pre>sudo ./wakari-server-0.10.0-Linux-x86_64.sh -w <span class="nv">$AE</span>N_SERVER
&lt;license text&gt;
...
...

<span class="nv">PREFIX</span><span class="o">=</span>/opt/wakari/wakari-server
Logging to /tmp/wakari_server.log
Checking server name
Ready <span class="k">for</span> pre-install steps
Installing miniconda
...
...
Checking server name
Loading config from /opt/wakari/wakari-server/etc/wakari/config.json
Loading config from /opt/wakari/wakari-server/etc/wakari/wk-server-config.json


<span class="o">===================================</span>

Created password <span class="s1">&#39;&lt;RANDOM_PASSWORD&gt;&#39;</span> <span class="k">for</span> user <span class="s1">&#39;wakari&#39;</span>

<span class="o">===================================</span>


Starting Wakari daemons...
installation finished.
</pre></div>
</div>
<p>After successfully completing the installation script, the installer
will create the administrator account (wakari user) and assign it a
password:</p>
<div class="highlight-bash"><div class="highlight"><pre>Created password <span class="s1">&#39;&lt;RANDOM_PASSWORD&gt;&#39;</span> <span class="k">for</span> user <span class="s1">&#39;wakari&#39;</span>
</pre></div>
</div>
<p><strong>Record this password.</strong> It will be needed in the following steps. It
is also available in the installation log file found at
<code class="docutils literal"><span class="pre">/tmp/wakari_server.log</span></code></p>
</div>
<div class="section" id="this-is-for-ubuntu">
<h4>This is for ubuntu<a class="headerlink" href="#this-is-for-ubuntu" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="restart-elasticsearch">
<h4>Restart ElasticSearch<a class="headerlink" href="#restart-elasticsearch" title="Permalink to this headline">¶</a></h4>
<p>Restart elasticsearch to read the new config file</p>
<div class="highlight-bash"><div class="highlight"><pre>sudo service nginx restart    <span class="c1"># On Debian / Ubuntu</span>
sudo service elasticsearch restart
</pre></div>
</div>
</div>
<div class="section" id="test-the-aen-server-install">
<h4>Test the AEN Server install<a class="headerlink" href="#test-the-aen-server-install" title="Permalink to this headline">¶</a></h4>
<p>Visit <a class="reference external" href="http://$AEN_SERVER">http://$AEN_SERVER</a>. You should be shown the <strong>&#8220;license
expired&#8221;</strong> page.</p>
</div>
<div class="section" id="update-the-license">
<h4>Update the License<a class="headerlink" href="#update-the-license" title="Permalink to this headline">¶</a></h4>
<p>From the <strong>&#8220;license expired&#8221;</strong> page, follow the onscreen instructions to
upload your license file. After submitting, you should see the login
page.</p>
</div>
</div>
</div>
<div class="section" id="install-aen-gateway">
<h2>Install AEN Gateway<a class="headerlink" href="#install-aen-gateway" title="Permalink to this headline">¶</a></h2>
<p>The gateway is a reverse proxy that authenticates users and
automatically directs them to the proper AEN Compute machine for
their project. Users will not notice this component as it automatically
routes them.</p>
<div class="section" id="id1">
<h3>Set Variables and Change Permissions<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">export</span> <span class="nv">AEN_SERVER</span><span class="o">=</span>&lt;FQDN HOSTNAME&gt; <span class="c1"># Use the real FQDN</span>
<span class="nb">export</span> <span class="nv">AEN_GATEWAY_PORT</span><span class="o">=</span>8080
<span class="nb">export</span> <span class="nv">AEN_GATEWAY</span><span class="o">=</span>&lt;FQDN HOSTNAME&gt;  <span class="c1"># will be needed shortly</span>
chmod a+x wakari-*.sh                <span class="c1"># Set installer to be executable</span>
</pre></div>
</div>
</div>
<div class="section" id="run-wakari-gateway-installer">
<h3>Run Wakari Gateway Installer<a class="headerlink" href="#run-wakari-gateway-installer" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre>sudo ./wakari-gateway-0.10.0-Linux-x86_64.sh -w <span class="nv">$AE</span>N_SERVER
&lt;license text&gt;
...
...

<span class="nv">PREFIX</span><span class="o">=</span>/opt/wakari/wakari-gateway
Logging to /tmp/wakari_gateway.log
...
...
Checking server name
Please restart the Gateway after running the following <span class="nb">command</span> to connect this Gateway to the AEN Server

<span class="nv">PATH</span><span class="o">=</span>/opt/wakari/wakari-gateway/bin:$PATH <span class="se">\</span>
/opt/wakari/wakari-gateway/bin/wk-gateway-configure <span class="se">\</span>
--server http://1.1.1.1 --host 1.1.1.2 --port <span class="m">8080</span> --name Gateway <span class="se">\</span>
--protocol http --summary Gateway --username wakari --password password
</pre></div>
</div>
<p><strong>NOTE:</strong> replace <strong>password</strong> with the password of the wakari user that
was generated during server installation.</p>
</div>
<div class="section" id="start-the-aen-gateway">
<h3>Start the AEN Gateway<a class="headerlink" href="#start-the-aen-gateway" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre>sudo service wakari-gateway start
</pre></div>
</div>
</div>
<div class="section" id="register-the-aen-gateway">
<h3>Register the AEN Gateway<a class="headerlink" href="#register-the-aen-gateway" title="Permalink to this headline">¶</a></h3>
<p>The AEN Gateway needs to register with the AEN Server. This needs
to be authenticated, so the wakari user’s credentials created during the
AEN Server install need to be used. <strong>This needs to be run as root</strong>
to write the configuration file:
<code class="docutils literal"><span class="pre">/opt/wakari/wakari-gateway/etc/wakari/wk-gateway-config.json</span></code></p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">PATH</span><span class="o">=</span>/opt/wakari/wakari-gateway/bin:$PATH <span class="se">\</span>
/opt/wakari/wakari-gateway/bin/wk-gateway-configure <span class="se">\</span>
--server http://$WAKARI_SERVER --host $WAKARI_GATEWAY <span class="se">\</span>
--port $WAKARI_GATEWAY_PORT --name Gateway --protocol http <span class="se">\</span>
--summary Gateway --username wakari <span class="se">\</span>
--password <span class="s1">&#39;&lt;USE PASSWORD SET ABOVE&gt;&#39;</span>
</pre></div>
</div>
<div class="section" id="ensure-proper-permissions">
<h4>Ensure Proper Permissions<a class="headerlink" href="#ensure-proper-permissions" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash"><div class="highlight"><pre>sudo chown wakari /opt/wakari/wakari-gateway/etc/wakari/wk-gateway-config.json
</pre></div>
</div>
</div>
<div class="section" id="restart-the-gateway-to-load-the-new-configuration-file">
<h4>Restart the gateway to load the new configuration file<a class="headerlink" href="#restart-the-gateway-to-load-the-new-configuration-file" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash"><div class="highlight"><pre>sudo service wakari-gateway restart
</pre></div>
</div>
<p><strong>NOTE:</strong> Ignore any errors about missing /lib/lsb/init-functions</p>
</div>
<div class="section" id="verify-the-aen-gateway-has-registered">
<h4>Verify the AEN Gateway has Registered<a class="headerlink" href="#verify-the-aen-gateway-has-registered" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p class="first">Login to the AEN Server using Chrome or Firefox browser using the
wakari user.</p>
</li>
<li><p class="first">Click the Admin link in the toolbar</p>
<a class="reference internal image-reference" href="_images/admin-menu.png"><img alt="_images/admin-menu.png" src="_images/admin-menu.png" style="width: 234.4px; height: 170.4px;" /></a>
</li>
<li><p class="first">Click the Datacenters sub­section and then click your datacenter:</p>
<a class="reference internal image-reference" href="_images/datacenter-leftnav.png"><img alt="_images/datacenter-leftnav.png" src="_images/datacenter-leftnav.png" style="width: 682.4px; height: 423.2px;" /></a>
</li>
<li><p class="first">Verify that your datacenter is registered and status is
<code class="docutils literal"><span class="pre">{&quot;status&quot;:</span> <span class="pre">&quot;ok&quot;,</span> <span class="pre">&quot;messages&quot;:</span> <span class="pre">[]}</span></code></p>
<a class="reference internal image-reference" href="_images/datacenter.png"><img alt="_images/datacenter.png" src="_images/datacenter.png" style="width: 680.8px; height: 433.6px;" /></a>
</li>
</ol>
</div>
</div>
</div>
<div class="section" id="install-aen-compute">
<h2>Install AEN Compute<a class="headerlink" href="#install-aen-compute" title="Permalink to this headline">¶</a></h2>
<p>This is where projects are stored and run. Adding multiple AEN
Compute machines allows one to scale-out horizontally to increase
capacity. Projects can be created on individual compute nodes to spread
the load.</p>
<div class="section" id="id2">
<h3>Set Variables and Change Permissions<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">export</span> <span class="nv">AEN_SERVER</span><span class="o">=</span>&lt;FQDN HOSTNAME&gt; <span class="c1"># Use the real FQDN</span>
chmod a+x wakari-*.sh                <span class="c1"># Set installer to be executable</span>
</pre></div>
</div>
</div>
<div class="section" id="run-aen-compute-installer">
<h3>Run AEN Compute Installer<a class="headerlink" href="#run-aen-compute-installer" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre>sudo ./wakari-compute-0.10.0-Linux-x86_64.sh -w <span class="nv">$AE</span>N_SERVER
...
...
<span class="nv">PREFIX</span><span class="o">=</span>/opt/wakari/wakari-compute
Logging to /tmp/wakari_compute.log
Checking server name
...
...
Initial clone of root environment...
Starting Wakari daemons...
installation finished.
Do you wish the installer to prepend the wakari-compute install location
to PATH in your /root/.bashrc ? <span class="o">[</span>yes<span class="p">|</span>no<span class="o">]</span>
<span class="o">[</span>no<span class="o">]</span> &gt;&gt;&gt; yes
</pre></div>
</div>
</div>
<div class="section" id="configure-aen-compute-node">
<h3>Configure AEN Compute Node<a class="headerlink" href="#configure-aen-compute-node" title="Permalink to this headline">¶</a></h3>
<p>Once installed, you need to configure the Compute Launcher on AEN Server.</p>
<ol class="arabic">
<li><p class="first">Point your browser at the AEN Server</p>
</li>
<li><p class="first">Login as the wakari user</p>
</li>
<li><p class="first">Click on the Admin link in the top navbar</p>
</li>
<li><p class="first">Click on Enterprise Resources in the left navbar</p>
</li>
<li><p class="first">Click on Add Resource</p>
</li>
<li><p class="first">Select the correct (probably the only) Data Center to associate this
Compute Node with</p>
</li>
<li><p class="first">For URL, enter <strong>http://$AEN_COMPUTE:5002</strong>.</p>
<p><strong>NOTE:</strong> If the Compute Launcher is located on the same box as the
Gateway, we recommend using <strong>http://localhost:5002</strong> for the URL
value.</p>
</li>
<li><p class="first">Add a Name and Description for the compute node</p>
</li>
<li><p class="first">Click the Add Resource button to save the changes.</p>
</li>
</ol>
<p><strong>Congratulations!</strong> You&#8217;ve now successfully installed and configured
Anaconda Enterprise Notebook.</p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>